const menu=document.querySelector(".header__inner"),menuTel=document.querySelector(".menu a");function changeBg(e){window.scrollY>0?(menu.style.backgroundColor="#f5f8fa",menu.style.color="#000000",menuTel.style.color="#000000"):(menu.style.backgroundColor="transparent",menu.style.color="#ffffff",menuTel.style.color="#ffffff")}document.addEventListener("scroll",changeBg);const toggle=document.querySelector(".calculator__section-title_toggle"),toggleArrrow=document.querySelector(".calculator__section-title_toggle > .material-icons-outlined");function toggleOption(){toggle.nextElementSibling.classList.toggle("unable"),toggleArrrow.classList.toggle("active")}toggle.addEventListener("click",toggleOption);const allCards=document.querySelector(".card"),timeOfDay=document.querySelector(".calculator__time"),dayCards=document.querySelectorAll(".card.day"),evCards=document.querySelectorAll(".card.ev"),durationOfRent=document.querySelector(".calculator__duration"),typeOfLift=document.querySelector(".calculator__lift"),extras=document.querySelector(".calculator__extras"),outputResult=document.querySelector(".total__result > p");let time="day",duration="1",totalAmount=0,lift="2",extrasPrice=0;function reactiveLogic(e=time,t=duration,l=lift,r=extrasPrice){"evening"===e&&(totalAmount=(400+("4"===l?100:0))*t),"day"===e&&(totalAmount=(300+("4"===l?100:0))*t-("10"===t?500:0)),outputResult.childNodes[0].textContent=totalAmount+extrasPrice}function toggleActiveCard(e,t){Array.from(t.querySelectorAll(".card")).map((t=>{t.classList.remove("active"),e.srcElement.classList.add("active")}))}function timeOfDayHandler(e){const t=e.srcElement.attributes?.time.value;if(null!=t){toggleActiveCard(e,timeOfDay),time=t;const l=Array.from(evCards),r=Array.from(dayCards);reactiveLogic(),"day"===time?(l.map((e=>{e.style.display="none"})),r.map((e=>{e.style.display="flex"}))):(l.map((e=>{e.style.display="flex"})),r.map((e=>{e.style.display="none"})))}}function durationHandler(e){const t=e.srcElement.attributes?.value.value;null!=t&&(toggleActiveCard(e,durationOfRent),duration=t,reactiveLogic())}function liftHandler(e){const t=e.srcElement.attributes?.lift.value;null!=t&&(toggleActiveCard(e,typeOfLift),lift=t,reactiveLogic())}function extrasHadler(e){const t=e.srcElement.attributes?.value.value;null!=t&&(e.srcElement.classList.contains("active")?(extrasPrice-=+t,e.srcElement.classList.remove("active")):(extrasPrice+=+t,e.srcElement.classList.add("active")),reactiveLogic())}function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}timeOfDay.addEventListener("click",timeOfDayHandler),durationOfRent.addEventListener("click",durationHandler),typeOfLift.addEventListener("click",liftHandler),extras.addEventListener("click",extrasHadler),testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyIsInNldHRpbmdzLmpzIl0sIm5hbWVzIjpbIm1lbnUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJtZW51VGVsIiwiY2hhbmdlQmciLCJldmVudCIsIndpbmRvdyIsInNjcm9sbFkiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsImNvbG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsInRvZ2dsZSIsInRvZ2dsZUFycnJvdyIsInRvZ2dsZU9wdGlvbiIsIm5leHRFbGVtZW50U2libGluZyIsImNsYXNzTGlzdCIsImFsbENhcmRzIiwidGltZU9mRGF5IiwiZGF5Q2FyZHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZXZDYXJkcyIsImR1cmF0aW9uT2ZSZW50IiwidHlwZU9mTGlmdCIsImV4dHJhcyIsIm91dHB1dFJlc3VsdCIsInRpbWUiLCJkdXJhdGlvbiIsInRvdGFsQW1vdW50IiwibGlmdCIsImV4dHJhc1ByaWNlIiwicmVhY3RpdmVMb2dpYyIsIl90aW1lIiwiX2R1cmF0aW9uIiwiX2xpZnQiLCJfZXh0cmFzIiwiY2hpbGROb2RlcyIsInRleHRDb250ZW50IiwidG9nZ2xlQWN0aXZlQ2FyZCIsInNlY3Rpb24iLCJBcnJheSIsImZyb20iLCJtYXAiLCJjYXJkIiwicmVtb3ZlIiwic3JjRWxlbWVudCIsImFkZCIsInRpbWVPZkRheUhhbmRsZXIiLCJ0ZXN0VGltZSIsImF0dHJpYnV0ZXMiLCJ2YWx1ZSIsInVuZGVmaW5lZCIsImV2Q2FyZEFycmF5IiwiZGF5Q2FyZEFycmF5IiwidGltZUNhcmQiLCJkaXNwbGF5IiwiZHVyYXRpb25IYW5kbGVyIiwidGVzdER1cmF0aW9uIiwibGlmdEhhbmRsZXIiLCJ0ZXN0TGlmdCIsImV4dHJhc0hhZGxlciIsInRlc3RFeHRyYXMiLCJjb250YWlucyIsInRlc3RXZWJQIiwiY2FsbGJhY2siLCJ3ZWJQIiwiSW1hZ2UiLCJvbmxvYWQiLCJvbmVycm9yIiwiaGVpZ2h0Iiwic3JjIiwic3VwcG9ydCJdLCJtYXBw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V0FBQTdCLFVBQUE4QixJQUFBLFdBRUFmLGlCQy9JQSxTQUFBZ0MsU0FBQUMsR0FDQSxJQUFBQyxFQUFBLElBQUFDLE1BQ0FELEVBQUFFLE9BQUFGLEVBQUFHLFFBQUEsV0FDQUosRUFBQSxHQUFBQyxFQUFBSSxTQUVBSixFQUFBSyxJQUNBLGtIRGdEQXBELFVBQUFQLGlCQUFBLFFBQUFvQyxrQkFDQXpCLGVBQUFYLGlCQUFBLFFBQUE2QyxpQkFDQWpDLFdBQUFaLGlCQUFBLFFBQUErQyxhQUNBbEMsT0FBQWIsaUJBQUEsUUFBQWlELGNDaERBRyxVQUFBLFNBQUFRLEdBQ0EsR0FBQUEsRUFDQXRFLFNBQUFDLGNBQUEsUUFBQWMsVUFBQThCLElBQUEsUUFFQTdDLFNBQUFDLGNBQUEsUUFBQWMsVUFBQThCLElBQUEiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBtYWtpbmcgd2hpdGUgYmcgdG8gdGhlIGhlYWRlciBtZW51XHJcblxyXG5jb25zdCBtZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX2lubmVyXCIpO1xyXG5jb25zdCBtZW51VGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51IGFcIik7XHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgY2hhbmdlQmcpO1xyXG5cclxuZnVuY3Rpb24gY2hhbmdlQmcoZXZlbnQpIHtcclxuICBpZiAod2luZG93LnNjcm9sbFkgPiAwKSB7XHJcbiAgICBtZW51LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI2Y1ZjhmYVwiO1xyXG4gICAgbWVudS5zdHlsZS5jb2xvciA9IFwiIzAwMDAwMFwiO1xyXG4gICAgbWVudVRlbC5zdHlsZS5jb2xvciA9IFwiIzAwMDAwMFwiO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBtZW51LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwidHJhbnNwYXJlbnRcIjtcclxuICAgIG1lbnUuc3R5bGUuY29sb3IgPSBcIiNmZmZmZmZcIjtcclxuICAgIG1lbnVUZWwuc3R5bGUuY29sb3IgPSBcIiNmZmZmZmZcIjtcclxuICB9XHJcbn1cclxuXHJcbi8vIHRvZ2dsZSBhcnJvd1xyXG5cclxuY29uc3QgdG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYWxjdWxhdG9yX19zZWN0aW9uLXRpdGxlX3RvZ2dsZVwiKTtcclxuY29uc3QgdG9nZ2xlQXJycm93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5jYWxjdWxhdG9yX19zZWN0aW9uLXRpdGxlX3RvZ2dsZSA+IC5tYXRlcmlhbC1pY29ucy1vdXRsaW5lZFwiXHJcbik7XHJcbmZ1bmN0aW9uIHRvZ2dsZU9wdGlvbigpIHtcclxuICB0b2dnbGUubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC50b2dnbGUoXCJ1bmFibGVcIik7XHJcbiAgdG9nZ2xlQXJycm93LmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIik7XHJcbn1cclxudG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0b2dnbGVPcHRpb24pO1xyXG5cclxuLy8gY2FsY3VsYXRvclxyXG5cclxuLy8gaHRtbCBlbGVtZW50c1xyXG5jb25zdCBhbGxDYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKTtcclxuXHJcbmNvbnN0IHRpbWVPZkRheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FsY3VsYXRvcl9fdGltZVwiKTtcclxuY29uc3QgZGF5Q2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNhcmQuZGF5XCIpO1xyXG5jb25zdCBldkNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jYXJkLmV2XCIpO1xyXG5cclxuY29uc3QgZHVyYXRpb25PZlJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhbGN1bGF0b3JfX2R1cmF0aW9uXCIpO1xyXG5cclxuY29uc3QgdHlwZU9mTGlmdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FsY3VsYXRvcl9fbGlmdFwiKTtcclxuXHJcbmNvbnN0IGV4dHJhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FsY3VsYXRvcl9fZXh0cmFzXCIpO1xyXG5cclxuY29uc3Qgb3V0cHV0UmVzdWx0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50b3RhbF9fcmVzdWx0ID4gcFwiKTtcclxuXHJcbi8vIHN0YXRlc1xyXG5sZXQgdGltZSA9IFwiZGF5XCI7XHJcbmxldCBkdXJhdGlvbiA9IFwiMVwiO1xyXG5sZXQgdG90YWxBbW91bnQgPSAwO1xyXG5sZXQgbGlmdCA9IFwiMlwiO1xyXG5sZXQgZXh0cmFzUHJpY2UgPSAwO1xyXG5cclxuLy8gTGlzdGVuZXJzXHJcbnRpbWVPZkRheS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGltZU9mRGF5SGFuZGxlcik7XHJcbmR1cmF0aW9uT2ZSZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBkdXJhdGlvbkhhbmRsZXIpO1xyXG50eXBlT2ZMaWZ0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBsaWZ0SGFuZGxlcik7XHJcbmV4dHJhcy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXh0cmFzSGFkbGVyKTtcclxuXHJcbi8vIGZ1bmN0aW9ucyBhbmQgaGVhZGxlcnNcclxuZnVuY3Rpb24gcmVhY3RpdmVMb2dpYyhcclxuICBfdGltZSA9IHRpbWUsXHJcbiAgX2R1cmF0aW9uID0gZHVyYXRpb24sXHJcbiAgX2xpZnQgPSBsaWZ0LFxyXG4gIF9leHRyYXMgPSBleHRyYXNQcmljZVxyXG4pIHtcclxuICBpZiAoX3RpbWUgPT09IFwiZXZlbmluZ1wiKSB7XHJcbiAgICB0b3RhbEFtb3VudCA9ICg0MDAgKyAoX2xpZnQgPT09IFwiNFwiID8gMTAwIDogMCkpICogX2R1cmF0aW9uO1xyXG4gIH1cclxuICBpZiAoX3RpbWUgPT09IFwiZGF5XCIpIHtcclxuICAgIHRvdGFsQW1vdW50ID1cclxuICAgICAgKDMwMCArIChfbGlmdCA9PT0gXCI0XCIgPyAxMDAgOiAwKSkgKiBfZHVyYXRpb24gLVxyXG4gICAgICAoX2R1cmF0aW9uID09PSBcIjEwXCIgPyA1MDAgOiAwKTtcclxuICB9XHJcblxyXG4gIG91dHB1dFJlc3VsdC5jaGlsZE5vZGVzWzBdLnRleHRDb250ZW50ID0gdG90YWxBbW91bnQgKyBleHRyYXNQcmljZTtcclxufVxyXG5cclxuZnVuY3Rpb24gdG9nZ2xlQWN0aXZlQ2FyZChldmVudCwgc2VjdGlvbikge1xyXG4gIEFycmF5LmZyb20oc2VjdGlvbi5xdWVyeVNlbGVjdG9yQWxsKFwiLmNhcmRcIikpLm1hcCgoY2FyZCkgPT4ge1xyXG4gICAgY2FyZC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgZXZlbnQuc3JjRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0aW1lT2ZEYXlIYW5kbGVyKGV2ZW50KSB7XHJcbiAgY29uc3QgdGVzdFRpbWUgPSBldmVudC5zcmNFbGVtZW50LmF0dHJpYnV0ZXM/LnRpbWUudmFsdWU7XHJcblxyXG4gIGlmICh0ZXN0VGltZSAhPSB1bmRlZmluZWQpIHtcclxuICAgIHRvZ2dsZUFjdGl2ZUNhcmQoZXZlbnQsIHRpbWVPZkRheSk7XHJcbiAgICB0aW1lID0gdGVzdFRpbWU7XHJcbiAgICBjb25zdCBldkNhcmRBcnJheSA9IEFycmF5LmZyb20oZXZDYXJkcyk7XHJcbiAgICBjb25zdCBkYXlDYXJkQXJyYXkgPSBBcnJheS5mcm9tKGRheUNhcmRzKTtcclxuICAgIHJlYWN0aXZlTG9naWMoKTtcclxuICAgIGlmICh0aW1lID09PSBcImRheVwiKSB7XHJcbiAgICAgIGV2Q2FyZEFycmF5Lm1hcCgodGltZUNhcmQpID0+IHtcclxuICAgICAgICB0aW1lQ2FyZC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgIH0pO1xyXG4gICAgICBkYXlDYXJkQXJyYXkubWFwKCh0aW1lQ2FyZCkgPT4ge1xyXG4gICAgICAgIHRpbWVDYXJkLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBldkNhcmRBcnJheS5tYXAoKHRpbWVDYXJkKSA9PiB7XHJcbiAgICAgICAgdGltZUNhcmQuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xyXG4gICAgICB9KTtcclxuICAgICAgZGF5Q2FyZEFycmF5Lm1hcCgodGltZUNhcmQpID0+IHtcclxuICAgICAgICB0aW1lQ2FyZC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZHVyYXRpb25IYW5kbGVyKGV2ZW50KSB7XHJcbiAgY29uc3QgdGVzdER1cmF0aW9uID0gZXZlbnQuc3JjRWxlbWVudC5hdHRyaWJ1dGVzPy52YWx1ZS52YWx1ZTtcclxuXHJcbiAgaWYgKHRlc3REdXJhdGlvbiAhPSB1bmRlZmluZWQpIHtcclxuICAgIHRvZ2dsZUFjdGl2ZUNhcmQoZXZlbnQsIGR1cmF0aW9uT2ZSZW50KTtcclxuICAgIGR1cmF0aW9uID0gdGVzdER1cmF0aW9uO1xyXG4gICAgcmVhY3RpdmVMb2dpYygpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gbGlmdEhhbmRsZXIoZXZlbnQpIHtcclxuICBjb25zdCB0ZXN0TGlmdCA9IGV2ZW50LnNyY0VsZW1lbnQuYXR0cmlidXRlcz8ubGlmdC52YWx1ZTtcclxuXHJcbiAgaWYgKHRlc3RMaWZ0ICE9IHVuZGVmaW5lZCkge1xyXG4gICAgdG9nZ2xlQWN0aXZlQ2FyZChldmVudCwgdHlwZU9mTGlmdCk7XHJcbiAgICBsaWZ0ID0gdGVzdExpZnQ7XHJcbiAgICByZWFjdGl2ZUxvZ2ljKCk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBleHRyYXNIYWRsZXIoZXZlbnQpIHtcclxuICBjb25zdCB0ZXN0RXh0cmFzID0gZXZlbnQuc3JjRWxlbWVudC5hdHRyaWJ1dGVzPy52YWx1ZS52YWx1ZTtcclxuXHJcbiAgaWYgKHRlc3RFeHRyYXMgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICBpZiAoZXZlbnQuc3JjRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIikpIHtcclxuICAgICAgZXh0cmFzUHJpY2UgLT0gK3Rlc3RFeHRyYXM7XHJcbiAgICAgIGV2ZW50LnNyY0VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGV4dHJhc1ByaWNlICs9ICt0ZXN0RXh0cmFzO1xyXG4gICAgICBldmVudC5zcmNFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcbiAgICB9XHJcbiAgICByZWFjdGl2ZUxvZ2ljKCk7XHJcbiAgfVxyXG59XHJcbiIsIi8vd2VicCBzdXBwb3J0XHJcbmZ1bmN0aW9uIHRlc3RXZWJQKGNhbGxiYWNrKSB7XHJcbiAgdmFyIHdlYlAgPSBuZXcgSW1hZ2UoKTtcclxuICB3ZWJQLm9ubG9hZCA9IHdlYlAub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGNhbGxiYWNrKHdlYlAuaGVpZ2h0ID09IDIpO1xyXG4gIH07XHJcbiAgd2ViUC5zcmMgPVxyXG4gICAgXCJkYXRhOmltYWdlL3dlYnA7YmFzZTY0LFVrbEdSam9BQUFCWFJVSlFWbEE0SUM0QUFBQ3lBZ0NkQVNvQ0FBSUFMbWswbWswaUlpSWlJZ0JvU3lnQUJjNldXZ0FBL3ZlZmYvMFBQOGJBLy9Md1lBQUFcIjtcclxufVxyXG5cclxudGVzdFdlYlAoZnVuY3Rpb24gKHN1cHBvcnQpIHtcclxuICBpZiAoc3VwcG9ydCA9PSB0cnVlKSB7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKS5jbGFzc0xpc3QuYWRkKFwid2VicFwiKTtcclxuICB9IGVsc2Uge1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIikuY2xhc3NMaXN0LmFkZChcIm5vLXdlYnBcIik7XHJcbiAgfVxyXG59KTtcclxuIl19
